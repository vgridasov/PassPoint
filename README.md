# Система учета сотрудников

Django-приложение для учета пропусков сотрудников с авторизацией, фото, отметками и статусами.

## Функциональность

- Авторизация пользователей с ролями "Администратор" и "Контролёр"
- Учет сотрудников с фото и пропусками
- Управление подразделениями и должностями
- Импорт/экспорт данных через админку
- Генерация пропусков в формате SVG
- Поиск и фильтрация сотрудников
- Два режима просмотра: список и карточки

## Фото сотрудников через веб-камеру

В форме создания и редактирования сотрудника доступна возможность сделать фото прямо с веб-камеры:

- Можно выбрать: загрузить файл или сделать снимок с камеры.
- При выборе "Сделать фото" открывается окно предпросмотра с рамкой 3:4.
- Лицо сотрудника должно быть в центре рамки для корректного кадрирования.
- Можно переснять фото, если результат не устраивает.
- Фото сохраняется в том же поле, что и при загрузке файла.
- Все современные браузеры поддерживаются (нужны права на доступ к камере).

**Важно:** если камера не найдена или доступ запрещён, используйте загрузку файла.

## Технические особенности

- Python 3.13
- Django 5.2.1
- Bootstrap 5
- SQLite
- django-import-export
- Контекстные процессоры для настроек организации

## Установка

1. Клонировать репозиторий:
```bash
git clone https://github.com/vgridasov/employee-management.git
cd employee-management
```

2. Создать виртуальное окружение:
```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
```

3. Установить зависимости:
```bash
pip install -r requirements.txt
```

4. Применить миграции:
```bash
python manage.py migrate
```

5. Создать суперпользователя:
```bash
python manage.py createsuperuser
```

6. Собрать статические файлы:
```bash
python manage.py collectstatic
```

7. Запустить сервер:
```bash
python manage.py runserver
```

## Использование

1. Войдите в админку как суперпользователь
2. Группы "Администратор" и "Контролёр" создаются автоматически при миграции
3. Назначьте пользователям соответствующие группы
4. Используйте систему согласно ролям:
   - Администратор: полный доступ к CRUD-операциям
   - Контролёр: только просмотр данных

## Импорт данных

1. Профили сотрудников, подразделения и должности можно импортировать через админку
2. Поддерживаются форматы CSV, Excel и другие.


## Структура проекта

```
inventory/
├── employees/          # Основное приложение
├── templates/          # Шаблоны
├── static/            # Статические файлы
├── media/             # Загружаемые файлы
├── logs/              # Логи
└── manage.py          # Скрипт управления
```

## Настройка для продакшена

1. Измените `SECRET_KEY` в settings.py
2. Установите `DEBUG = False`
3. Настройте `ALLOWED_HOSTS`
4. Настройте статические файлы через веб-сервер
5. Используйте PostgreSQL вместо SQLite
6. Настройте бэкапы базы данных 